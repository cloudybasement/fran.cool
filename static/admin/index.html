<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>fran.cool CMS</title>

    <!-- the script for authentication using Netlify Identity -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

  </head>
  <body>
    <!-- the script that builds the page and powers Netlify CMS -->
    <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
    <script>
      // https://github.com/ai/nanoid
      function nanoid(t = 21) {
          return crypto.getRandomValues(new Uint8Array(t)).reduce((t, e) => (t += (e &= 63) < 36 ? e.toString(36) : e < 62 ? (e - 26).toString(36).toUpperCase() : e > 62 ? '-' : '_'), '')
      }

      const UuidWidget = createClass({
          componentDidMount() {
              const { value, onChange } = this.props
              if (!value) {
              onChange(nanoid())
              }
          },

          render() {
              const { value, classNameWrapper, forID } = this.props
              return h(
                  'span',
                  {
                      id: forID,
                      style: { fontFamily: 'monospace', marginLeft: '1rem' },
                      //className: classNameWrapper
                  },
                  value
              )
          },
      })
      CMS.registerWidget('uuid', UuidWidget)
    </script>
  </body>
</html>
